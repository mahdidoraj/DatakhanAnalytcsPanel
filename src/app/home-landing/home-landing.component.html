<!-- src/app/landing/landing-page.component.html -->
<p-toast></p-toast>

<!-- Top Navigation -->
<p-menubar [model]="items" styleClass="dk-menubar shadow-sm">
	<ng-template pTemplate="start">
		<a class="navbar-brand d-flex align-items-center gap-2 text-decoration-none">
			<i class="fa-solid fa-wave-square fs-4"></i>
			<span class="fw-bold">DataKhana</span>
		</a>
	</ng-template>
	<ng-template pTemplate="end">
		<div class="d-flex align-items-center gap-2">
			<button pButton type="button" label="ورود" class="p-button-text"></button>
			<button pButton type="button" label="ثبت‌نام" icon="pi pi-arrow-left" class="p-button-rounded"></button>
		</div>
	</ng-template>
</p-menubar>

<!-- Hero -->
<section class="hero-section position-relative overflow-hidden">
	<div class="container py-5">
		<div class="row align-items-center g-4">
			<div class="col-lg-6">
				<h1 class="display-5 fw-bolder lh-base mb-3">
					ارتباطات کسب‌وکار خود را با <span class="gradient-text">تحلیل هوشمند شبکه‌های اجتماعی</span> متحول کنید
				</h1>
				<p class="lead text-secondary mb-4">
					موتور جامع تحلیل، گزارش و اتوماسیون برای تیم‌های داده و بازاریابی. یکپارچه با APIها و آماده برای مقیاس.
				</p>
				<div class="d-flex gap-2 flex-wrap">
					<button pButton type="button" label="دموی زنده" class="p-button-lg"></button>
					<button pButton type="button" label="مشاهده پلن‌ها" class="p-button-lg p-button-outlined"></button>
				</div>
				<div class="d-flex align-items-center gap-2 mt-3 text-muted small">
					<i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-solid fa-star"></i><i class="fa-regular fa-star"></i>
					<span>۴٫۷/۵ — ۹۵۰+ نظر</span>
				</div>
			</div>
			<div class="col-lg-6">
				<div class="hero-card shadow-lg rounded-4 p-3">

					<div class="d-flex justify-content-between mt-3 small text-muted">
						<span><i class="fa-solid fa-bolt"></i> رشد ۴۵٪ تعامل</span>
						<span><i class="fa-solid fa-clock"></i> به‌روزرسانی لحظه‌ای</span>
					</div>
				</div>
			</div>
		</div>
	</div>

	<!-- Decorative waves -->
	<svg class="hero-waves" viewBox="0 0 1440 320" preserveAspectRatio="none" aria-hidden="true">
		<path fill="currentColor" fill-opacity="0.08" d="M0,64L40,85.3C80,107,160,149,240,165.3C320,181,400,171,480,165.3C560,160,640,160,720,149.3C800,139,880,117,960,122.7C1040,128,1120,160,1200,165.3C1280,171,1360,149,1400,138.7L1440,128L1440,0L0,0Z"></path>
	</svg>
</section>

<!-- Stats -->
<section class="py-5 bg-soft" id="stats">
	<div class="container">
		<div class="row g-3">
			<div class="col-6 col-md-3" *ngFor="let s of stats">
				<div class="dk-stat">
					<div class="value">
						{{ s.value | number }}
						<span *ngIf="s.suffix" class="suffix">{{ s.suffix }}</span>
					</div>
					<div class="label">{{ s.label }}</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Features -->
<section class="py-6" id="features">
	<div class="container">
		<h2 class="section-title">یک موتور مدرن تحلیل بسازید</h2>
		<div class="row g-4">
			<div class="col-md-4" *ngFor="let f of features">
				<p-card styleClass="h-100 dk-feature">
					<ng-template pTemplate="header">
						<div class="icon-wrap"><i class="fa-solid {{f.icon}}"></i></div>
					</ng-template>
					<h3 class="h5 fw-bold mb-2">{{ f.title }}</h3>
					<p class="mb-0 text-secondary">{{ f.desc }}</p>
				</p-card>
			</div>
		</div>
	</div>
</section>

<!-- Case Study -->
<section class="py-6 case" id="case">
	<div class="container">
		<div class="row g-4 align-items-center">
			<div class="col-lg-6">
				<span class="badge rounded-pill text-bg-light mb-2">مطالعه موردی</span>
				<h3 class="fw-bold mb-3">رشد ۲۰۰۰٪ در ROI کمپین برای یک استارتاپ سلامت دیجیتال</h3>
				<p class="text-light-emphasis mb-4">
					با اتصال به تیم‌های HR و ایجاد مکانیزم‌های تولید لید مقیاس‌پذیر، چرخه بازاریابی را بازآفرینی کردیم.
				</p>
				<button pButton type="button" label="مشاهده جزئیات" class="p-button-rounded p-button-outlined"></button>
			</div>
			<div class="col-lg-6">
				<div class="glass p-4 rounded-4">
					<div class="d-flex justify-content-between align-items-center">
						<span class="small text-light-emphasis">کانال‌ها</span>
						<i class="fa-solid fa-diagram-project"></i>
					</div>
					<div class="mt-3 d-grid grid-3">
						<div class="chip"><i class="fa-brands fa-x-twitter"></i> X</div>
						<div class="chip"><i class="fa-brands fa-instagram"></i> Instagram</div>
						<div class="chip"><i class="fa-brands fa-facebook"></i> Facebook</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>

<!-- Newsletter + Table -->
<section class="py-6">
	<div class="container">
		<div class="row g-4">
			<div class="col-lg-5">
				<h4 class="fw-bold mb-3">ارسال ایمیل‌های فروش، ریسک‌زا است؟</h4>
				<p class="text-secondary">
					۸۵٪ شرکت‌ها از دامنه اصلی برای آت‌باند استفاده می‌کنند و زیرساخت خود را در معرض ریسک می‌گذارند. در خبرنامه ماهانه، راهکارهای سریع را دریافت کنید.
				</p>
				<form [formGroup]="subscribeForm" (ngSubmit)="onSubscribe()" class="d-flex gap-2">
					<input pInputText formControlName="email" type="email" placeholder="ایمیل کاری" aria-label="ایمیل" class="flex-grow-1" />
					<button pButton type="submit" label="اشتراک" icon="pi pi-send"></button>
				</form>
<!--				<div class="form-hint text-danger mt-2" *ngIf="subscribeForm.controls.email.touched && subscribeForm.controls.email.invalid">-->
<!--					ایمیل معتبر وارد کنید.-->
<!--				</div>-->
			</div>
			<div class="col-lg-7">
				<p-table [value]="recentSignals" [tableStyle]="{ 'min-width': '30rem' }" styleClass="dk-table">
					<ng-template pTemplate="header">
						<tr>
							<th>شبکه</th>
							<th>حجم</th>
							<th>احساس</th>
							<th>زمان</th>
						</tr>
					</ng-template>
					<ng-template pTemplate="body" let-row>
						<tr>
							<td><span class="badge bg-secondary">{{ row.network }}</span></td>
							<td>{{ row.volume | number }}</td>
							<td>
								<p-tag [value]="row.sentiment" [severity]="row.sentiment === 'مثبت' ? 'success' : (row.sentiment === 'منفی' ? 'danger' : 'warning')"></p-tag>
							</td>
							<td>{{ row.time }}</td>
						</tr>
					</ng-template>
				</p-table>
			</div>
		</div>
	</div>
</section>

<!-- Blog -->
<section class="py-6 bg-soft" id="blog">
	<div class="container">
		<div class="d-flex justify-content-between align-items-center mb-3">
			<h2 class="section-title mb-0">آخرین مطالب</h2>
			<button pButton type="button" label="مشاهده همه" class="p-button-text"></button>
		</div>
		<div class="row g-4">
			<div class="col-md-4" *ngFor="let b of blogPosts">
				<p-card>
					<img [src]="b.cover" alt="" class="img-fluid rounded-3 mb-3" />
					<h3 class="h6 fw-bold mb-1">{{ b.title }}</h3>
					<small class="text-secondary">{{ b.date }}</small>
				</p-card>
			</div>
		</div>
	</div>
</section>

<!-- Who we help -->
<section class="py-6">
	<div class="container">
		<h2 class="section-title">چه کسانی از ما بهره می‌برند</h2>
		<div class="row g-4">
			<div class="col-md-4" *ngFor="let w of whoWeHelp">
				<p-card class="h-100">
					<div class="d-flex align-items-start gap-3">
						<div class="icon-ghost"><i class="fa-solid {{ w.icon }}"></i></div>
						<div>
							<h3 class="h6 fw-bold mb-1">{{ w.title }}</h3>
							<p class="mb-0 text-secondary">{{ w.desc }}</p>
						</div>
					</div>
				</p-card>
			</div>
		</div>
	</div>
</section>

<!-- Logos -->
<section class="py-5 bg-soft">
	<div class="container">
		<div class="d-flex flex-wrap justify-content-center align-items-center gap-4">
			<img *ngFor="let l of logos" [src]="l" alt="" class="logo"/>
		</div>
	</div>
</section>

<!-- Story -->
<section class="py-6 story">
	<div class="container">
		<div class="row g-4 align-items-center">
			<div class="col-lg-6">
				<div class="story-card p-4 rounded-4">
					<h3 class="fw-bold mb-3">داستان ما</h3>
					<p class="mb-3 text-secondary">
						DataKhana با تمرکز بر فرایند، افراد و تکنولوژی، تیم‌های فروش و بازاریابی را با رویکردی نو مجهز می‌کند.
					</p>
					<button pButton type="button" label="گفتگو با تیم"></button>
				</div>
			</div>
			<div class="col-lg-6">
				<img src="assets/founder.webp" alt="Founder" class="img-fluid rounded-4 shadow" />
			</div>
		</div>
	</div>
</section>

<!-- Contact + Map -->
<section class="py-6 bg-soft" id="contact">
	<div class="container">
		<div class="row g-4">
			<div class="col-lg-5">
				<h3 class="fw-bold mb-2">ارتباط با ما</h3>
				<p class="text-secondary mb-3">تهران، خیابان فناوران — پشتیبانی: support AT datakhana.ai</p>
				<div class="d-flex gap-2">
					<a pButton label="گفتگو" class="p-button-rounded"></a>
					<a pButton label="رزرو دمو" class="p-button-outlined p-button-rounded"></a>
				</div>
			</div>
			<div class="col-lg-7">
				<div #contactMap class="contact-map rounded-4"></div>
			</div>
		</div>
	</div>
</section>

<!-- Footer -->
<footer class="py-5 border-top">
	<div class="container">
		<div class="row g-4">
			<div class="col-md-3">
				<div class="d-flex align-items-center gap-2 mb-2">
					<i class="fa-solid fa-wave-square"></i>
					<strong>DataKhana</strong>
				</div>
				<small class="text-secondary">© همه حقوق محفوظ است.</small>
			</div>
			<div class="col-6 col-md-3">
				<h6 class="fw-bold mb-2">محصول</h6>
				<ul class="list-unstyled d-grid gap-1 small">
					<li><a class="link-secondary text-decoration-none" (click)="scrollTo('features')">ویژگی‌ها</a></li>
					<li><a class="link-secondary text-decoration-none" (click)="scrollTo('case')">مطالعه موردی</a></li>
					<li><a class="link-secondary text-decoration-none" (click)="scrollTo('blog')">بلاگ</a></li>
				</ul>
			</div>
			<div class="col-6 col-md-3">
				<h6 class="fw-bold mb-2">منابع</h6>
				<ul class="list-unstyled d-grid gap-1 small">
					<li><span class="text-secondary">مستندات API</span></li>
					<li><span class="text-secondary">راهنما</span></li>
					<li><span class="text-secondary">ویدیوها</span></li>
				</ul>
			</div>
			<div class="col-md-3">
				<h6 class="fw-bold mb-2">اجتماعی</h6>
				<div class="d-flex gap-2">
					<a class="btn btn-outline-secondary btn-sm rounded-pill"><i class="fa-brands fa-x-twitter"></i></a>
					<a class="btn btn-outline-secondary btn-sm rounded-pill"><i class="fa-brands fa-instagram"></i></a>
					<a class="btn btn-outline-secondary btn-sm rounded-pill"><i class="fa-brands fa-linkedin"></i></a>
				</div>
			</div>
		</div>
	</div>
</footer>
